\begin{figure}[H]
    \centering
    \begin{tikzpicture}[node distance=1.5cm]
        \node (cc) [draw, rectangle, text width=2cm, minimum height=2.5cm, align=center, fill=blue!20, rounded corners] {Central \\controller};

        \node (pev2) [draw, rectangle, right of=grid, xshift=1.75cm, fill=green!20, rounded corners] {PEV$_2$};
        \node (pev1) [draw, rectangle, above of=pev2, yshift=-0.5cm, fill=green!20, rounded corners] {PEV$_1$};
        \node (pevm) [draw, rectangle, below of=pev2, yshift=0.5cm, fill=green!20, rounded corners] {PEV$_m$};

        \node (demux) [draw, rectangle, minimum width=0.3cm, minimum height=3cm, fill=black, right of=pev2, xshift=-0.2cm] {};

        \node (grid) [draw, rectangle, text width=2cm, minimum height=1.5cm, above of=pev1, align=center, yshift=0.2cm, fill=red!20, rounded corners] {Power\\ grid};

        \draw [->] ([yshift=1cm]cc.east) -- node[above] {$\lambda, \mu, \nu$} (pev1.west);
        \draw [->] (cc.east) -- node[above] {$\lambda, \mu, \nu$} (pev2.west);
        \draw [->] ([yshift=-1cm]cc.east) -- node[above] {$\lambda, \mu, \nu$} (pevm.west);

        \draw [->] (pev1.east) -- ([yshift=1cm]demux.west);
        \draw [->] (pev2.east) -- (demux.west);
        \draw [->] (pevm.east) -- ([yshift=-1cm]demux.west);

        \draw [draw=white] (pev2) -- node[midway] {...} (pevm);

        \draw [->] (demux.east) -| ([xshift=0.5cm, yshift=-2cm]demux.east) -| node[pos=0.245, above] {$P_p, \rho_p$} ([xshift=-0.5cm]cc.west) -- (cc);

        \draw [->] (cc.north) |- node[pos=0.75, above] {$P_p$} (grid.west);

        \draw [->] ([xshift=-0.3cm]grid.south) -- node[pos=0.6, left] {\Lightning} ([xshift=-0.3cm]pev1.north);

        \draw [-] (grid) -- (pev1);
        \draw [->] (pev1) -- node[left] {\Lightning} (pev2);

        \draw [-] ([xshift=0.3cm]grid.south) -- ([xshift=0.3cm]pev1.north);
        \draw [-] ([xshift=0.3cm]pev1.south) -- ([xshift=0.3cm]pev2.north);
        \draw [->] ([xshift=0.3cm]pev2.south) -- node[right] {\Lightning} ([xshift=0.3cm]pevm.north);

        \draw[dashed] ([xshift=-0.3cm, yshift=1cm]current bounding box.west) rectangle ([xshift=0.3cm, yshift=-0.3cm]current bounding box.south east);
        
        \node at ([yshift=-0.32cm]current bounding box.south) {Fast closed loop};
    \end{tikzpicture}
    \caption{Decentralized approach block scheme.}
    \label{fig:dec_scheme}
\end{figure}